(this["webpackJsonpsmm-encyclopedia"]=this["webpackJsonpsmm-encyclopedia"]||[]).push([[2],{289:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return ft}));var i=n(1),a=n(2),r=n(6),u=n(4),o=n(5),c=n(0),l=n(3),s=(n(310),n(8)),b=n(40),O=n(21),f=Object(l.a)("MAP"),h=function(){function t(e){Object(i.a)(this,t),O.b||t.map.if((function(t){return t.includes(e)})).isMet((function(){throw new ReferenceError('A duplicate sound player was found with the same key "'.concat(e,'".'))})).set(e,this)}return Object(a.a)(t,null,[{key:"map",get:function(){var t,e;return null!==(e=(t=Object(c.a)(this,f))[f])&&void 0!==e?e:t[f]=new b.a}}]),t}();h.DEFAULT_DOES_LOOP=!1,Object.defineProperty(h,f,{writable:!0,value:void 0});var j,v=n(11),d=Object(l.a)("englishName");j=Symbol.iterator;var y=function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this),Object.defineProperty(Object(r.a)(a),d,{writable:!0,value:void 0}),Object(c.a)(Object(r.a)(a),d)[d]=t,a}return Object(a.a)(n,[{key:"englishName",get:function(){return Object(c.a)(this,d)[d]}},{key:"englishNameInHtml",get:function(){return this.englishName}},{key:"_static",get:function(){return n}}],[{key:"_getValueByString",value:function(t){var e;return null!==(e=this.values.find((function(e){return e.englishName===t})))&&void 0!==e?e:null}},{key:"getValue",value:function(t){return v.a.getValueOn(this,t)}},{key:"values",get:function(){return v.a.getValuesOn(this)}},{key:j,value:function(){return this.values[Symbol.iterator]()}}]),n}(v.a);y.STANDBY=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getElementsFrom",value:function(t){return[(0,t.playElement)()]}}]),n}(y))("standby"),y.PAUSED=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getElementsFrom",value:function(t){var e=t.playElement,n=t.stopElement;return[e(),n()]}}]),n}(y))("paused"),y.PLAYING=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getElementsFrom",value:function(t){var e=t.pauseElement,n=t.stopElement;return[e(),n()]}}]),n}(y))("playing"),y.LOADING=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getElementsFrom",value:function(t){return[(0,t.loadingElement)()]}}]),n}(y))("loading"),y.EXCEPTION=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getElementsFrom",value:function(t){return[(0,t.exceptionElement)()]}}]),n}(y))("exception");var p,g=Object(l.a)("state"),k=Object(l.a)("isLoading"),P=function(){function t(e,n){Object(i.a)(this,t),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object(c.a)(this,g)[g]=e instanceof t?e.state:e,Object(c.a)(this,k)[k]=n instanceof t?n.isLoading:n}return Object(a.a)(t,[{key:"state",get:function(){return Object(c.a)(this,g)[g]}},{key:"isLoading",get:function(){return Object(c.a)(this,k)[k]}},{key:"equals",value:function(e){return null!=e&&(e instanceof t&&(this.state===e.state&&this.isLoading===e.isLoading))}}]),t}(),S=Object(l.a)("history"),w=Object(l.a)("last"),m=Object(l.a)("current"),E=function(){function t(e){if(Object(i.a)(this,t),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),e===y.LOADING)throw new ReferenceError("The first state of the history cannot be the loading state!");Object(c.a)(this,m)[m]=new P(e,!1),Object(c.a)(this,S)[S]=[this.current]}return Object(a.a)(t,[{key:"history",get:function(){return Object(c.a)(this,S)[S]}},{key:"_history",get:function(){return Object(c.a)(this,S)[S]}},{key:"current",get:function(){return Object(c.a)(this,m)[m]},set:function(t){null!=t&&this.setLast(this.current)._history.push(Object(c.a)(this,m)[m]=t)}},{key:"setCurrent",value:function(t){return this.current=t,this}},{key:"last",get:function(){if(null==Object(c.a)(this,w)[w])throw new ReferenceError("The history has no last state!");return Object(c.a)(this,w)[w]},set:function(t){if(null==t)throw new TypeError("The last state could not be set to a null value.");Object(c.a)(this,w)[w]=t}},{key:"setLast",value:function(t){return this.last=t,this}}]),t}(),A=y.STANDBY,L=y.PAUSED,N=y.PLAYING,C=y.EXCEPTION,_=Object(l.a)("source"),B=Object(l.a)("title"),D=Object(l.a)("doesLoop"),T=Object(l.a)("history"),x=Object(l.a)("audio"),F=Object(l.a)("isDurationValid"),V=Object(l.a)("onBeforePlay"),Y=Object(l.a)("onAfterPlay"),I=Object(l.a)("onPlaying"),R=Object(l.a)("onBeforePause"),U=Object(l.a)("onAfterPause"),G=Object(l.a)("onBeforeStop"),M=Object(l.a)("onAfterStop"),X=Object(l.a)("onEnd"),q=Object(l.a)("onBeforeStateChanged"),H=Object(l.a)("onAfterStateChanged"),J=function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(t,a){var u,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.DEFAULT_DOES_LOOP;return Object(i.a)(this,n),u=e.call(this,t.key),Object.defineProperty(Object(r.a)(u),_,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),B,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),D,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),T,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),x,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),F,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),V,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),Y,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),I,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),R,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),U,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),G,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),M,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),X,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),q,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(u),H,{writable:!0,value:void 0}),Object(c.a)(Object(r.a)(u),_)[_]=t,Object(c.a)(Object(r.a)(u),B)[B]=a,Object(c.a)(Object(r.a)(u),D)[D]=o,u.setState((Object(c.a)(Object(r.a)(u),T)[T]=new E(A)).current),u}return Object(a.a)(n,[{key:"source",get:function(){return Object(c.a)(this,_)[_]}},{key:"title",get:function(){return Object(c.a)(this,B)[B]}},{key:"doesLoop",get:function(){return Object(c.a)(this,D)[D]}},{key:"history",get:function(){return Object(c.a)(this,T)[T]}},{key:"audio",get:function(){var t=this;if(null==Object(c.a)(this,x)[x]){var e=Object(c.a)(this,x)[x]=new Audio(this.source.fullName);e.onplaying=function(e){var n;switch(t.history.current.state){case A:return t.stop();case L:return t.pause()}t.setState(new P(N,!1)),null===(n=t.onPlaying)||void 0===n||n.call(t,t,e)},e.onended=function(e){var n;t.setState(new P(A,!1)),null===(n=t.onEnd)||void 0===n||n.call(t,t,e)},e.title=this.title,e.loop=this.doesLoop}return Object(c.a)(this,x)[x]}},{key:"isAudioExistant",get:function(){return null!=Object(c.a)(this,x)[x]}},{key:"isPaused",get:function(){var t,e;return null!==(t=null===(e=Object(c.a)(this,x)[x])||void 0===e?void 0:e.paused)&&void 0!==t&&t}},{key:"isDurationValid",get:function(){if(null==Object(c.a)(this,F)[F]){if(!this.isAudioExistant)return!1;Object(c.a)(this,F)[F]=Number.isFinite(this.audio.duration)}return Object(c.a)(this,F)[F]}},{key:"onBeforePlay",get:function(){var t;return null!==(t=Object(c.a)(this,V)[V])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,V)[V]=null!==t&&void 0!==t?t:null}},{key:"setOnBeforePlay",value:function(t){return this.onBeforePlay=t,this}},{key:"onAfterPlay",get:function(){var t;return null!==(t=Object(c.a)(this,Y)[Y])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,Y)[Y]=null!==t&&void 0!==t?t:null}},{key:"setOnAfterPlay",value:function(t){return this.onAfterPlay=t,this}},{key:"onPlaying",get:function(){var t;return null!==(t=Object(c.a)(this,I)[I])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,I)[I]=null!==t&&void 0!==t?t:null}},{key:"setOnPlaying",value:function(t){return this.onPlaying=t,this}},{key:"onBeforePause",get:function(){var t;return null!==(t=Object(c.a)(this,R)[R])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,R)[R]=null!==t&&void 0!==t?t:null}},{key:"setOnBeforePause",value:function(t){return this.onBeforePause=t,this}},{key:"onAfterPause",get:function(){var t;return null!==(t=Object(c.a)(this,U)[U])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,U)[U]=null!==t&&void 0!==t?t:null}},{key:"setOnAfterPause",value:function(t){return this.onAfterPause=t,this}},{key:"onBeforeStop",get:function(){var t;return null!==(t=Object(c.a)(this,G)[G])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,G)[G]=t}},{key:"setOnBeforeStop",value:function(t){return this.onBeforeStop=t,this}},{key:"onAfterStop",get:function(){var t;return null!==(t=Object(c.a)(this,M)[M])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,M)[M]=null!==t&&void 0!==t?t:null}},{key:"setOnAfterStop",value:function(t){return this.onAfterStop=t,this}},{key:"onEnd",get:function(){var t;return null!==(t=Object(c.a)(this,X)[X])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,X)[X]=null!==t&&void 0!==t?t:null}},{key:"setOnEnd",value:function(t){return this.onEnd=t,this}},{key:"onBeforeStateChanged",get:function(){var t;return null!==(t=Object(c.a)(this,q)[q])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,q)[q]=null!==t&&void 0!==t?t:null}},{key:"setOnBeforeStateChanged",value:function(t){return this.onBeforeStateChanged=t,this}},{key:"onAfterStateChanged",get:function(){var t;return null!==(t=Object(c.a)(this,H)[H])&&void 0!==t?t:null},set:function(t){Object(c.a)(this,H)[H]=null!==t&&void 0!==t?t:null}},{key:"setOnAfterStateChanged",value:function(t){return this.onAfterStateChanged=t,this}},{key:"play",value:function(){var t,e,n=this,i=this.history.current;return i.isLoading?this.setState(new P(N,!0)):(i.state===N||(null===(t=this.onBeforePlay)||void 0===t||t.call(this,this),this.audio.play().then((function(){return n.isDurationValid?n:n.setState(new P(C,!1))})).catch((function(){return n.setState(new P(C,!1))})),this.setState(new P(N,!0)),null===(e=this.onAfterPlay)||void 0===e||e.call(this,this)),this)}},{key:"pause",value:function(){var t,e,n=this.history.current,i=n.isLoading,a=n.state===L;if(!i||!a){if(i)return this.setState(new P(L,!0));if(a)return this}return null===(t=this.onBeforePause)||void 0===t||t.call(this,this),this.audio.pause(),this.setState(new P(L,!1)),null===(e=this.onAfterPause)||void 0===e||e.call(this,this),this}},{key:"stop",value:function(){var t,e,n=this.history.current,i=n.isLoading,a=n.state===A;if(!i||!a){if(i)return this.setState(new P(A,!0));if(a)return this}null===(t=this.onBeforeStop)||void 0===t||t.call(this,this);var r=this.audio;return r.pause(),r.currentTime=0,this.setState(new P(A,!1)),null===(e=this.onAfterStop)||void 0===e||e.call(this,this),this}},{key:"setState",value:function(t){var e,n,i=this.history,a=i.current;return a.equals(t)||(null===(e=this.onBeforeStateChanged)||void 0===e||e.call(this,this,t,a),i.current=t,null===(n=this.onAfterStateChanged)||void 0===n||n.call(this,this,t,a)),this}}]),n}(h),W=function(){function t(){Object(i.a)(this,t)}return Object(a.a)(t,null,[{key:"createSimple",value:function(t,e,n){return new J(t,e,null!==n&&void 0!==n?n:h.DEFAULT_DOES_LOOP)}}]),t}(),z=Object(l.a)("playElement"),K=Object(l.a)("pauseElement"),Q=Object(l.a)("stopElement"),Z=Object(l.a)("loadingElement"),$=Object(l.a)("exceptionElement"),tt=function(){function t(e,n,a,r,u){Object(i.a)(this,t),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,K,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:void 0}),Object(c.a)(this,z)[z]=e,Object(c.a)(this,K)[K]=n,Object(c.a)(this,Q)[Q]=a,Object(c.a)(this,Z)[Z]=r,Object(c.a)(this,$)[$]=u}return Object(a.a)(t,[{key:"playElement",get:function(){return Object(c.a)(this,z)[z]}},{key:"pauseElement",get:function(){return Object(c.a)(this,K)[K]}},{key:"stopElement",get:function(){return Object(c.a)(this,Q)[Q]}},{key:"loadingElement",get:function(){return Object(c.a)(this,Z)[Z]}},{key:"exceptionElement",get:function(){return Object(c.a)(this,$)[$]}}]),t}(),et=Object(l.a)("englishName");p=Symbol.iterator;var nt=function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this),Object.defineProperty(Object(r.a)(a),et,{writable:!0,value:void 0}),Object(c.a)(Object(r.a)(a),et)[et]=t,a}return Object(a.a)(n,[{key:"englishName",get:function(){return Object(c.a)(this,et)[et]}},{key:"englishNameInHtml",get:function(){return this.englishName}},{key:"onCreate",value:function(t){}},{key:"onPlay",value:function(t){return null}},{key:"_static",get:function(){return n}}],[{key:"default",get:function(){return v.a.getNonNullDefaultOn(this)},set:function(t){this.setDefault(t)}},{key:"setDefault",value:function(t){return v.a.setNonNullDefaultOn(this,t)}},{key:"_getValueByString",value:function(t){var e;return null!==(e=this.values.find((function(e){return e.englishName===t})))&&void 0!==e?e:null}},{key:"getValue",value:function(t){return v.a.getValueOn(this,t)}},{key:"values",get:function(){return v.a.getValuesOn(this)}},{key:p,value:function(){return this.values[Symbol.iterator]()}}]),n}(v.a);nt.ALL_YES=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"onCreate",value:function(t){t(!0)}},{key:"onPlay",value:function(t){return t(!0),!0}}]),n}(nt))("all yes"),nt.ALL_NO=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"onCreate",value:function(t){t(!1)}},{key:"onPlay",value:function(t){return t(!1),!1}}]),n}(nt))("all no"),nt.ON_PLAY_ONLY=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"onPlay",value:function(t){return t(),null}}]),n}(nt))("on play only"),nt.ON_CREATE_ONLY=new(function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"onCreate",value:function(t){t()}}]),n}(nt))("on create only"),nt._DEFAULT=nt.ON_PLAY_ONLY;var it=n(7),at=y.STANDBY,rt=y.LOADING,ut=Object(l.a)("PLAY_CLASSES"),ot=Object(l.a)("PAUSE_CLASSES"),ct=Object(l.a)("STOP_CLASSES"),lt=Object(l.a)("LOADING_CLASSES"),st=Object(l.a)("EXCEPTION_CLASSES"),bt=Object(l.a)("audio"),Ot=Object(l.a)("isSourceFoundCallback"),ft=function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this,t),Object.defineProperty(Object(r.a)(a),bt,{writable:!0,value:void 0}),Object.defineProperty(Object(r.a)(a),Ot,{writable:!0,value:void 0}),a.state={state:new P(at,!1),isSourceRetrieved:!1},Object(c.a)(Object(r.a)(a),Ot)[Ot]=function(t){a._audio.isDurationValid;a.setState({isSourceRetrieved:!0})},a}return Object(a.a)(n,[{key:"file",get:function(){return this.props.file}},{key:"title",get:function(){return this.props.title}},{key:"validator",get:function(){var t;return null!==(t=this.props.validator)&&void 0!==t?t:nt.default}},{key:"componentState",get:function(){return this.state.state}},{key:"isSourceRetrieved",get:function(){return this.state.isSourceRetrieved}},{key:"_audio",get:function(){var t=this;if(null==Object(c.a)(this,bt)[bt]){var e=this.file;Object(c.a)(this,bt)[bt]=W.createSimple(e,this.title).setOnBeforePlay((function(){return t.validator.onPlay(Object(c.a)(t,Ot)[Ot])})).setOnAfterStateChanged((function(e){return t.setState({state:e.history.current})}))}return Object(c.a)(this,bt)[bt]}},{key:"componentDidMount",value:function(){this.isSourceRetrieved||this.validator.onCreate(Object(c.a)(this,Ot)[Ot])}},{key:"componentWillUnmount",value:function(){var t=Object(c.a)(this,bt)[bt];null!=t&&(t.setState(new P(at,!1)),h.map.remove(t.source.key))}},{key:"render",value:function(){var t=this,e=new tt((function(){return Object(it.jsx)("div",{className:Object(c.a)(n,ut)[ut],onClick:function(){return t._audio.play()}},"".concat(t.title," - play"))}),(function(){return Object(it.jsx)("div",{className:Object(c.a)(n,ot)[ot],onClick:function(){return t._audio.pause()}},"".concat(t.title," - pause"))}),(function(){return Object(it.jsx)("div",{className:Object(c.a)(n,ct)[ct],onClick:function(){return t._audio.stop()}},"".concat(t.title," - stop"))}),(function(){return Object(it.jsx)("div",{className:Object(c.a)(n,lt)[lt],role:"status"},"".concat(t.title," - loading"))}),(function(){return Object(it.jsx)("div",{className:Object(c.a)(n,st)[st]},"".concat(t.title," - exception"))})),i=this.componentState;return Object(it.jsxs)("div",{className:"audio-state-container container",children:[i.isLoading?rt.getElementsFrom(e):null,i.state.getElementsFrom(e)]},"".concat(this.title," - container"))}}]),n}(s.Component);Object.defineProperty(ft,ut,{writable:!0,value:"btn btn-lg bi-play-btn-fill audio-state audio-state-play"}),Object.defineProperty(ft,ot,{writable:!0,value:"btn btn-lg bi-pause-btn-fill audio-state audio-state-pause"}),Object.defineProperty(ft,ct,{writable:!0,value:"btn btn-lg bi-stop-btn-fill audio-state audio-state-stop"}),Object.defineProperty(ft,lt,{writable:!0,value:"spinner-border audio-state audio-state-loading"}),Object.defineProperty(ft,st,{writable:!0,value:"bi-shield-fill-exclamation audio-state audio-state-exception"})},310:function(t,e,n){}}]);
//# sourceMappingURL=2.6a8c5e64.chunk.js.map